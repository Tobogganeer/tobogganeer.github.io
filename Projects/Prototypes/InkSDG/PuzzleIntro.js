var storyContent = ï»¿{"inkVersion":20,"root":[[{"#":"author: Evan Daveikis"},{"#":"theme: white"},"\n","\n",{"->":"main"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"main":[["^\"Despite progress, 2.2 billion people lacked safely managed drinking water services in 2022\" (United Nations, 2023).","\n","^Access to clean water is an issue that afflicts many. It is something that is often taken for granted in countries with ready access to it.","\n","ev","str","^Put yourself in some different shoes","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^-- Experience --","\n",{"->t->":"puzzle1"},{"->":".^.^.done_p1"},{"->":".^.^.done_p1"},{"#f":5}],"done_p1":["^In terms of clean water facilities, things are improving slowly but surely.","\n","ev","str","^Look at what's being done","/str","/ev",{"*":".^.c-1","flg":20},{"c-1":["^-- Help --","\n",{"->t->":"puzzle2"},{"->":"main.0.done_p2"},{"->":"main.0.done_p2"},{"#f":5}],"#f":5}],"done_p2":["ev","str","^Let's wrap things up","/str","/ev",{"*":".^.c-2","flg":20},{"c-2":["\n",{"->":"main.0.g-0"},{"#f":5}],"#f":5}],"g-0":["^Clean water is something that many of us can take for granted. In 2022, only 73% of the global population used a safely managed drinking-water service (World Health Organization, 2023).","\n","^Access to clean water is crucial to improved hygiene and disease prevention (WHO, 2023). Organizations like the UN (including UNICEF) are working towards improved access to clean and accessible water through initiatives like thousands of water pump installations (UNICEF, 2022).","\n","^Progress could be faster. Things could be better for many people. However, we are getting there.","\n","^THE END ",{"#":"CLASS: end"},"\n","end",{"#f":5}]}],{"#f":1}],"puzzle1":[["ev",{"VAR?":"s1_complete"},"!",{"VAR?":"s2_complete"},"!","&&","/ev",[{"->":".^.b","c":true},{"b":["^Your task is simple: get a drink of clean water.",{"->":".^.^.^.8"},null]}],"nop","\n","ev","str","^Wake up in a residential household","/str",{"VAR?":"s1_complete"},"!","/ev",{"*":".^.c-0","flg":21},"ev","str","^Wake up in a rondavel","/str",{"VAR?":"s1_complete"},{"VAR?":"s2_complete"},"!","&&","/ev",{"*":".^.c-1","flg":21},{"*":".^.c-2","flg":24},{"c-0":["^-- Suburban House --","\n",{"->":"stage1"},{"->":".^.^.g-0"},{"#f":5}],"c-1":["^-- Rondavel --","\n",{"->":"stage2"},{"->":".^.^.g-0"},{"#f":5}],"c-2":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["ev",{"VAR?":"s2_complete"},"/ev",[{"->":".^.b","c":true},{"b":["\n","thread",{"->":"puzzle1Finished"},"ev","void","/ev","->->",{"->":".^.^.^.4"},null]}],"nop","\n",{"#f":5}]}],{"#f":1}],"stage1":[[{"#":"CLEAR"},"^You wake up and get out of bed. The temperature is 22c, exactly where you left the thermostat.","\n","^You are thirsty.","\n",{"#":"IMAGE: images/House_1.png"},["ev","str","^Get dressed","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Look out the window","/str",{"CNT?":".^.c-1"},5,"<","/ev",{"*":".^.c-1","flg":5},"ev","str","^Go into the hallway","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\n","^You put on a pair of slippers and a loose t-shirt. You have a million.","\n",{"->":".^.^"},{"#f":5}],"c-1":["\n",["ev","visit",4,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"ev","du",4,"==","/ev",{"->":".^.s4","c":true},"nop",{"s0":["pop","^It's a pretty sunny day outside",{"->":".^.^.35"},null],"s1":["pop","^Kids are biking down the sidewalk",{"->":".^.^.35"},null],"s2":["pop","^Someone is walking their dog",{"->":".^.^.35"},null],"s3":["pop","^It looks safe",{"->":".^.^.35"},null],"s4":["pop","^There isn't much more suburbia to see",{"->":".^.^.35"},null],"#f":5}],"^.","\n",{"->":".^.^"},{"#f":5}],"c-2":["\n","^You crack open your door and take a step into the unknown. It's a bit dark, but it's all familiar to you.","\n",{"#":"IMAGE: images/House_2.png"},{"->":"stage1.hallway"},{"#f":5}],"#f":5,"#n":"opt"}],null],{"hallway":[["ev","str","^Turn on the lights","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Use the bathroom","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Go to the kitchen","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\n","ev",true,"/ev",{"VAR=":"lightsOn","re":true},"^Much better - you won't stub your toes now.","\n",{"->":".^.^.^"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"lightsOn"},"!","/ev",[{"->":".^.b","c":true},{"b":["^Oww... you stub your toe on the corner of the door, but you make it in alright.",{"->":".^.^.^.6"},null]}],"nop","\n","^You do your business and flush liters of potable water down the drain. The thought to drink it doesn't cross your mind.","\n",{"->":".^.^.^"},{"#f":5}],"c-2":["\n",{"#":"IMAGE: images/House_3.png"},"^You enter your moderately sized kitchen. It's ","ev",{"VAR?":"lightsOn"},"/ev",[{"->":".^.b","c":true},{"b":["^brightly lit and",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["^hard to see in the dark but",{"->":".^.^.^.8"},null]}],"nop","^ feels cozy.","\n",{"->":"stage1.kitchen"},{"#f":5}]}],{"#f":1}],"kitchen":[["ev","str","^Open a cupboard","/str",{"CNT?":".^.c-0"},8,"<","/ev",{"*":".^.c-0","flg":5},"ev","str","^Go to the sink","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"CNT?":".^"},8,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^You've probably opened and closed every cupboard in the kitchen by now.","\n",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","^This one has ",["ev","visit",4,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"nop",{"s0":["pop","^some bowls and plates",{"->":".^.^.29"},null],"s1":["pop","^a bunch of cooking equipment",{"->":".^.^.29"},null],"s2":["pop","^a ton of food",{"->":".^.^.29"},null],"s3":["pop","^some cups. ",{"->":"stage1.cupboard"},{"->":".^.^.29"},null],"#f":5}],"^.","\n",{"->":".^.^.^.8"},null]}],"nop","\n",{"->":".^.^.^"},{"#f":5}],"c-1":["\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^You go over to the main kitchen sink - it's one of many in the house",{"->":".^.^.17"},null],"s1":["pop","^You are at the sink",{"->":".^.^.17"},null],"#f":5}],"^. ","ev",{"VAR?":"faucetOn"},"/ev",[{"->":".^.b","c":true},{"b":["^How much water has flowed down the drain, you are not sure.",{"->":".^.^.^.7"},null]}],"nop","\n",[["ev","str","^Turn it on","/str",{"VAR?":"faucetOn"},"!","/ev",{"*":".^.c-0","flg":5},"ev","str","^Turn it off","/str",{"VAR?":"faucetOn"},"/ev",{"*":".^.c-1","flg":5},"ev","str","^Take a drink","/str",{"VAR?":"faucetOn"},"/ev",{"*":".^.c-2","flg":5},"ev","str","^Leave","/str","/ev",{"*":".^.c-3","flg":4},{"c-0":["\n","ev",true,"/ev",{"VAR=":"faucetOn","re":true},["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^Clear water comes gushing out of the faucet",{"->":".^.^.23"},null],"s1":["pop","^Fresh water pours out of the faucet",{"->":".^.^.23"},null],"s2":["pop","^A clear stream rushes out of the faucet",{"->":".^.^.23"},null],"#f":5}],"^.","\n",{"->":".^.^"},{"#f":5}],"c-1":["\n","ev",false,"/ev",{"VAR=":"faucetOn","re":true},["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^The water stops",{"->":".^.^.23"},null],"s1":["pop","^The stream of water is shut off",{"->":".^.^.23"},null],"s2":["pop","^You close the faucet",{"->":".^.^.23"},null],"#f":5}],["ev","visit",4,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"nop",{"s0":["pop",{"->":".^.^.29"},null],"s1":["pop",{"->":".^.^.29"},null],"s2":["pop","^, with a few drops holding on before eventually drip, dripping down the drain",{"->":".^.^.29"},null],"s3":["pop","^, and you watch the last remnants swirl down the drain hole",{"->":".^.^.29"},null],"#f":5}],"^.","\n",{"->":".^.^"},{"#f":5}],"c-2":["\n","ev",{"VAR?":"hasCup"},"/ev",[{"->":".^.b","c":true},{"b":["\n","^You fill up your cup and take a gulp of clean water. It hits the spot. You pour the rest of your cup down the drain.","\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\n","^You cup your hands and take a drink of water. It tastes clean; refreshing.","\n",{"->":".^.^.^.6"},null]}],"nop","\n",["ev","str","^Take a step back","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","ev",true,"/ev",{"VAR=":"s1_complete","re":true},"^That wasn't so hard, was it? Let's try somewhere else...","\n",{"->":"puzzle1"},{"#f":5}]}],{"#f":5}],"c-3":["\n","^You take a step back","ev",{"VAR?":"faucetOn"},"/ev",[{"->":".^.b","c":true},{"b":["^, leaving the water running full blast",{"->":".^.^.^.6"},null]}],"nop","^.","\n",{"->":".^.^.^.^.^.^"},{"#f":5}],"#f":5,"#n":"sink_short"}],null],{"#f":5}]}],{"#f":1}],"cupboard":[["ev","str","^Grab a cup","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Go back","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",true,"/ev",{"VAR=":"hasCup","re":true},["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^You pull out a nice looking glass",{"->":".^.^.17"},null],"s1":["pop","^You already have a cup in your hand",{"->":".^.^.17"},null],"#f":5}],"^.","\n",{"->":"stage1.kitchen"},{"#f":5}],"c-1":["\n",{"->":"stage1.kitchen"},{"#f":5}]}],{"#f":1}],"#f":1}],"stage2":[[{"#":"CLEAR"},{"#":"IMAGE: images/Rondavel_1.png"},"^You wake up and open your eyes. The morning light peeks in through the door, with the sun's heat radiating through.","\n","^You are thirsty.","\n","ev","str","^Go outside","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n","^You take a step outside and take in the world. You see other houses surrounding the large cattle pen in the middle.","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Others are busy moving around - working, waking, walking about. Some have buckets, seemingly imbued with the same desire as you.","\n","^There's been rainfall in the north, a known stream passes by the east, and you've been working on cracking open a dry riverbed in the west.","\n",[{"#":"IMAGE: images/Rondavel_2.png"},["ev","str","^Grab a bucket","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Follow the crowd north","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Take the eastward path","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Walk the westward path","/str","/ev",{"*":".^.c-4","flg":20},{"c-1":["\n","ev",true,"/ev",{"VAR=":"hasBucket","re":true},"^You pick up a blue, plastic bucket from beside your rondavel.","\n",{"->":".^.^"},{"#f":5}],"c-2":["\n","^You ","ev",{"VAR?":"hasBucket"},"/ev",[{"->":".^.b","c":true},{"b":["^take your bucket",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^catch up with the crowd",{"->":".^.^.^.7"},null]}],"nop","^ and trek northwards through brush and some rough terrain.","\n",["ev","str","^30 minutes pass","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":"stage2.crowd"},{"#f":5}]}],{"#f":5}],"c-3":["\n","^You decide to go east ","ev",{"VAR?":"hasBucket"},"/ev",[{"->":".^.b","c":true},{"b":["^with your bucket",{"->":".^.^.^.6"},null]}],"nop","^ to search for the stream that way.","\n",["ev","str","^The sun blazes down","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":"stage2.east"},{"#f":5}]}],{"#f":5}],"c-4":["\n","^You ","ev",{"VAR?":"hasBucket"},"/ev",[{"->":".^.b","c":true},{"b":["^and your trusty bucket ",{"->":".^.^.^.6"},null]}],"nop","^adventure west - it'll keep the sun out of your eyes.","\n",["ev","str","^You've made this journey many times before","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":"stage2.west"},"ev",true,"/ev",{"VAR=":"s2_complete","re":true},{"->":"puzzle1"},{"#f":5}]}],{"#f":5}],"#f":5,"#n":"opt_noImage"}],{"#f":5,"#n":"opt"}],{"#f":5}]}],{"crowd":[["ev",{"VAR?":"none"},"/ev",{"VAR=":"waterState","re":true},"^You chat and joke around with some of your peers. Cracked lips frame smiles that look back at you.","\n","ev","str","^The group continues onwards","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^You've heard news of some recent rainfall to the north that's brought water to a small creek. That's where you assume the group's headed off to.","\n","ev","str","^After some time...","/str","/ev",{"*":".^.c-1","flg":20},{"c-1":["\n",{"->":".^.^.^.g-1"},{"#f":5}],"#f":5}],"g-1":["^You see the front of the line start to stop and spread out. Birds flutter up into the air; bushes rustle as animals leave.","\n","ev","str","^See what they're looking at","/str","/ev",{"*":".^.c-2","flg":20},{"c-2":["\n",{"->":".^.^.^.g-2"},{"#f":5}],"#f":5}],"g-2":["^You move up and plant yourself off to the side. The sight leaves you disappointed.","\n","^There is a creek - the assumption wasn't wrong.","\n","ev","str","^But it's a small, dirty creek","/str","/ev",{"*":".^.c-3","flg":20},{"c-3":["\n",{"->":".^.^.^.g-3"},{"#f":5}],"#f":5}],"g-3":[{"#":"IMAGE: images/Rondavel_3.png"},"^You'd say it's barely a puddle. The water is stagnant - a muddy colour with foam and insect eggs crowding the surface.","\n","^Others begin filling up their buckets and taking hesitant sips of the water. Mothers bathe their children; others bathe themselves.","\n","^It's better than no water.","\n","ev","str","^Fill up your bucket","/str",{"VAR?":"hasBucket"},"/ev",{"*":".^.c-4","flg":21},"ev","str","^Take a drink","/str",{"VAR?":"hasBucket"},"!","/ev",{"*":".^.c-5","flg":21},"ev","str","^Do nothing","/str","/ev",{"*":".^.c-6","flg":20},{"c-4":["\n","ev",{"VAR?":"dirty"},"/ev",{"VAR=":"waterState","re":true},"^You join them and fill up your bucket as full as you can. You try to give yourself a clear spot to scoop, swatting away some of the dirt and sludge to limited effect.","\n",{"->":".^.^.^.g-4"},{"#f":5}],"c-5":["\n","ev",{"VAR?":"dirty"},"/ev",{"VAR=":"drankWaterState","re":true},"^You join them and try to get a clean handful of the precious liquid. You look at the muddy substance before slurping it down.","\n","^It has a thick, gritty taste.","\n",{"->":".^.^.^.g-4"},{"#f":5}],"c-6":["\n","^You decide not to take the chance on this water. You watch others bathe and drink - this water will not last forever.","\n",{"->":".^.^.^.g-4"},{"#f":5}],"#f":5}],"g-4":["^The group finishes and everyone begins to head back. Many women and children carry jerry cans of water - it's part of their duties.","\n","ev","str","^Work your way back","/str","/ev",{"*":".^.c-7","flg":20},{"c-7":["\n",{"->":".^.^.^.g-5"},{"#f":5}],"#f":5}],"g-5":["^The group walks back the way it came, all the way to the community. Water carriers bring buckets and cans to their families.","\n",{"->":"stage2.returnToCommunity"},{"#f":5}]}],{"#f":1}],"east":[["ev",{"VAR?":"none"},"/ev",{"VAR=":"waterState","re":true},"^A stream has reliably passed in the east for a couple of years, though the water's been used mostly for agriculture.","\n","ev","str","^It's quite a walk","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^The sun is bright in the sky, and you watch it rise slightly as you journey onwards.","\n","ev","str","^Is that it?","/str","/ev",{"*":".^.c-1","flg":20},{"c-1":["\n",{"->":".^.^.^.g-1"},{"#f":5}],"#f":5}],"g-1":["^As you start to get ","ev",{"VAR?":"hasBucket"},"/ev",[{"->":".^.b","c":true},{"b":["^tired from carrying the bucket",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["^exhausted from the heat",{"->":".^.^.^.6"},null]}],"nop","^, the stream comes into view.","\n","ev","str","^The water is sandy and shallow","/str","/ev",{"*":".^.c-2","flg":20},{"c-2":["\n",{"->":".^.^.^.g-2"},{"#f":5}],"#f":5}],"g-2":[{"#":"IMAGE: images/Rondavel_4.png"},"^It's quite small, but it is certainly better than ","ev",{"CNT?":"stage2.crowd"},"/ev",[{"->":".^.b","c":true},{"b":["^the water to the north",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^nothing",{"->":".^.^.^.7"},null]}],"nop","^. It feels nice to dip your feet in.","\n","ev","str","^Fill up your bucket","/str",{"VAR?":"hasBucket"},"/ev",{"*":".^.c-3","flg":21},"ev","str","^Take a drink","/str",{"VAR?":"hasBucket"},"!","/ev",{"*":".^.c-4","flg":21},{"c-3":["\n","ev",{"VAR?":"clean"},"/ev",{"VAR=":"waterState","re":true},"^You fill up your bucket nearly to the brim. You try to scoop out some of the sand in the bottom, leaving the water only slightly cloudy.","\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-4":["\n","ev",{"VAR?":"dirty"},"/ev",{"VAR=":"drankWaterState","re":true},"^The water tastes like you are drinking sandpaper - it is very course and gritty. If you had some kind of bucket maybe you could have gotten some of the sand out...","\n",{"->":".^.^.^.g-3"},{"#f":5}],"#f":5}],"g-3":["^You are ","ev",{"VAR?":"drankWaterState"},{"VAR?":"dirty"},"==","/ev",[{"->":".^.b","c":true},{"b":["^reasonably ",{"->":".^.^.^.7"},null]}],"nop","^satisfied with the stream. ","ev",{"VAR?":"waterState"},{"VAR?":"clean"},"==","/ev",[{"->":".^.b","c":true},{"b":["^The water in your bucket looks quite clean.",{"->":".^.^.^.15"},null]}],"nop","\n","ev","str","^Work your way back","/str","/ev",{"*":".^.c-5","flg":20},{"c-5":["\n",{"->":".^.^.^.g-4"},{"#f":5}],"#f":5}],"g-4":["^You take the same trail back towards the community. The sun feels much better on your back than on your face.","\n",{"->":"stage2.returnToCommunity"},{"#f":5}]}],{"#f":1}],"west":[["ev",{"VAR?":"none"},"/ev",{"VAR=":"waterState","re":true},"^You start travelling west - the path is less travelled and a bit rougher on the feet, but you have a little project you've been working on.","\n","ev","str","^There's an dry riverbed","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^You've heard that you can dig a hole into the riverbed and find water down there. Why not try it out?","\n","ev","str","^Try to remember the path","/str","/ev",{"*":".^.c-1","flg":20},{"c-1":["\n",{"->":".^.^.^.g-1"},{"#f":5}],"#f":5}],"g-1":["^You come to a section where you aren't quite sure where to go... what was that marker you left yourself?","\n",{"#":"IMAGE: images/Rondavel_5.png"},"ev","str","^The snapped path through the brush","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^The piece of cloth tied to a shrub","/str","/ev",{"*":".^.c-3","flg":20},{"c-2":["\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-3":["\n",{"->":".^.^.^.g-2"},{"#f":5}],"#f":5}],"g-2":["^Yes, that must've been it. This path looks quite familiar.","\n","ev","str","^You reach the riverbed","/str","/ev",{"*":".^.c-4","flg":20},{"c-4":["\n",{"->":".^.^.^.g-3"},{"#f":5}],"#f":5}],"g-3":["^It looks just as you left it the day prior: cracked, with a hole starting to show signs of moisture.","\n",{"#":"IMAGE: images/Rondavel_6.png"},"^Time to get back to digging.","\n","ev","str","^The bucket acts as a nice shovel","/str",{"VAR?":"hasBucket"},"/ev",{"*":".^.c-5","flg":21},"ev","str","^Your hands are good at scooping the sand","/str",{"VAR?":"hasBucket"},"!","/ev",{"*":".^.c-6","flg":21},{"c-5":["\n",{"->":".^.^.^.g-4"},{"#f":5}],"c-6":["\n",{"->":".^.^.^.g-4"},{"#f":5}],"#f":5}],"g-4":["^It isn't easy work - it's hot, humid, and the air feels heavy. However, the payoff could be huge.","\n","ev","str","^It could mean a closer water source","/str","/ev",{"*":".^.c-7","flg":20},{"c-7":["\n",{"->":".^.^.^.g-5"},{"#f":5}],"#f":5}],"g-5":["^You dig, dig, dig, away. Hours pass. Eventually, a drip. Then two.","\n","ev","str","^You keep digging","/str","/ev",{"*":".^.c-8","flg":20},{"c-8":["\n",{"->":".^.^.^.g-6"},{"#f":5}],"#f":5}],"g-6":[{"#":"IMAGE: images/Rondavel_7.png"},"^Drops. Then a puddle. Everywhere you dig, water continues to fill.","\n","ev","str","^You take a drink","/str","/ev",{"*":".^.c-9","flg":20},{"c-9":["\n",{"->":".^.^.^.g-7"},{"#f":5}],"#f":5}],"g-7":["ev",{"VAR?":"dirty"},"/ev",{"VAR=":"drankWaterState","re":true},"^The water is a bit of a slurry, but you take it down readily. It feels nice after all that digging.","\n","ev","str","^Fill up your bucket","/str",{"VAR?":"hasBucket"},"/ev",{"*":".^.c-10","flg":21},"ev","str","^Return to the community","/str","/ev",{"*":".^.c-11","flg":20},{"c-10":["\n","ev",{"VAR?":"dirty"},"/ev",{"VAR=":"waterState","re":true},"^You do your best to wedge the bucket into the hole and fill it up. Sediment swirls in the water as you pull it up - it isn't pure, but ","ev",{"CNT?":"stage2.crowd"},"/ev",[{"->":".^.b","c":true},{"b":["^it's better than the water in the north",{"->":".^.^.^.11"},null]}],[{"->":".^.b"},{"b":["^it'll do",{"->":".^.^.^.11"},null]}],"nop","^. ",{"->":".^.^.c-11"},"\n",{"->":".^.^.^.g-8"},{"#f":5}],"c-11":["\n","^You ","ev",{"VAR?":"waterState"},{"VAR?":"dirty"},"==","/ev",[{"->":".^.b","c":true},{"b":["^pick up your bucket",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^get to your feet",{"->":".^.^.^.9"},null]}],"nop","^ and begin the journey back. You try to leave a few more markers to help you find the path the next time, especially ","ev",{"CNT?":".^.^.^.g-1.c-2"},"/ev",[{"->":".^.b","c":true},{"b":["^around the snapped brush",{"->":".^.^.^.16"},null]}],[{"->":".^.b"},{"b":["^by the cloth in the shrub",{"->":".^.^.^.16"},null]}],"nop","^.","\n",{"->":".^.^.^.g-8"},{"#f":5}],"#f":5}],"g-8":["^...","\n","^You get back and tell some of your neighbours about the riverbed. You point them in the direction of your path and then head over to check it out.","\n",{"->":"stage2.returnToCommunity"},{"#f":5}]}],{"#f":1}],"returnToCommunity":[["ev","str","^Bring the water to your family","/str",{"VAR?":"waterState"},{"VAR?":"none"},"!=",{"VAR?":"hasBucket"},"&&","/ev",{"*":".^.c-0","flg":5},{"*":".^.c-1","flg":8},{"c-0":["\n","^You bring your bucket of ","ev",{"VAR?":"waterState"},{"VAR?":"dirty"},"==","/ev",[{"->":".^.b","c":true},{"b":["^dirty ",{"->":".^.^.^.8"},null]}],"nop","^water to your house. Everyone present in the house takes a drink. The water is ","ev",{"VAR?":"waterState"},{"VAR?":"dirty"},"==","/ev",[{"->":".^.b","c":true},{"b":["^better than nothing",{"->":".^.^.^.17"},null]}],[{"->":".^.b"},{"b":["^quite refreshing",{"->":".^.^.^.17"},null]}],"nop","^.","\n","ev",{"VAR?":"waterState"},"/ev",{"VAR=":"drankWaterState","re":true},{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["ev",{"VAR?":"waterState"},{"VAR?":"none"},"==","/ev",[{"->":".^.b","c":true},{"b":["^You haven't brought anything back","ev",{"VAR?":"drankWaterState"},{"VAR?":"none"},"!=","/ev",[{"->":".^.b","c":true},{"b":["^, but you've taken a drink",{"->":".^.^.^.7"},null]}],"nop","^.",{"->":".^.^.^.6"},null]}],"nop","\n",["ev",{"VAR?":"drankWaterState"},{"VAR?":"dirty"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","^The water you drank wasn't the cleanest... but is it clean enough for you?","\n",{"->":"isWaterCleanEnough"},{"->":".^.^.^.10"},null]}],["ev",{"VAR?":"drankWaterState"},{"VAR?":"clean"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","^The water you drank was pretty clean - you feel refreshed.","\n",{"->":"completeS2"},{"->":".^.^.^.10"},null]}],"nop","\n",{"->":"stage2.0.g-0.opt"},{"#f":5}]}],{"#f":1}],"#f":1}],"completeS2":[["ev","str","^Take a step back","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","ev",true,"/ev",{"VAR=":"s2_complete","re":true},{"->":"puzzle1"},{"#f":5}]}],{"#f":1}],"isWaterCleanEnough":[["ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\n","ev",{"CNT?":".^.^.^"},1,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^Many people are forced to use unsafe water resources, leading to the spread of waterborne diseases. Disease and infant mortality are a large impact faced by these people...","\n",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","^There are other things that must be done today... This water will have to do.","\n",{"->":"completeS2"},{"->":".^.^.^.8"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","ev",{"CNT?":".^.^.^"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^You aren't quite satisfied with the water... nothing you've had yet is clean.","\n","^However, there isn't really enough time to look anymore. There are other things to do.","\n",{"->":"completeS2"},{"->":".^.^.^.7"},null]}],"nop","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Maybe there is some cleaner water around - you decide to try to look some more.","\n",{"->":"stage2.0.g-0.opt"},{"#f":5}]}],{"#f":1}],"puzzle1Finished":["^Whether you could or could not find a truly clean source of water, the unfortunate reality is that many people cannot.","\n","^Women in Asia and Africa have to travel an average of 6km per day fetching water (Blue Planet Network, 2012), with hundreds of millions of people taking water from untreated ponds and streams (World Health Organization, 2023). Fetching water is often the job of women and children.","\n","^Untreated water leads to diseases like cholera and diarrhoea, causing hundreds of thousands of deaths yearly (World Health Organization, 2023).","\n","^With that, let's move on.","\n","done",{"#f":1}],"puzzle2":[[{"#":"CLEAR"},"^You are looking up at the clouds in the sky. You bring your gaze down to a sand-coloured brick building.","\n","^You are in Mali, a country in West Africa. You and your crew are there with a simple objective:","\n","ev","str","^Install a hand-pumped well","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"#":"IMAGE: images/Environment.png"},"^The community here has been selected to have a hand pump installed to replace the small, contaminated well they've been using.","\n","^You and your crew, working under UNICEF, have been given a set of instructions, some parts, some tools, and a couple hours to install everything.","\n",["ev","str","^Use ","ev",{"VAR?":"tools"},"out","/ev","/str",{"VAR?":"tools"},"/ev",{"*":".^.c-1","flg":5},"ev","str","^Use your hands","/str",{"VAR?":"tools"},"!","/ev",{"*":".^.c-2","flg":5},"ev","str",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^Drop ","ev",{"VAR?":"tools"},"out","/ev",{"->":".^.^.23"},null],"s1":["pop","^Put ","ev",{"VAR?":"tools"},"out","/ev","^ back",{"->":".^.^.23"},null],"s2":["pop","^Return ","ev",{"VAR?":"tools"},"out","/ev",{"->":".^.^.23"},null],"#f":5}],"/str",{"VAR?":"tools"},"/ev",{"*":".^.c-3","flg":5},"ev","str","^View instructions","/str","/ev",{"*":".^.c-4","flg":4},"ev","str","^View parts","/str","/ev",{"*":".^.c-5","flg":4},"ev","str","^View tools","/str","/ev",{"*":".^.c-6","flg":4},{"c-1":["\n",{"->":"useTool"},{"->":".^.^.^.^.done"},{"#f":5}],"c-2":["\n",{"->":"useTool"},{"->":".^.^.^.^.done"},{"#f":5}],"c-3":["\n","^You ",["ev","visit",4,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"nop",{"s0":["pop","^put the ","ev",{"VAR?":"tools"},"out","/ev","^ back",{"->":".^.^.29"},null],"s1":["pop","^drop the ","ev",{"VAR?":"tools"},"out","/ev",{"->":".^.^.29"},null],"s2":["pop","^get rid of the ","ev",{"VAR?":"tools"},"out","/ev",{"->":".^.^.29"},null],"s3":["pop","^throw the ","ev",{"VAR?":"tools"},"out","/ev","^ on the ground",{"->":".^.^.29"},null],"#f":5}],"^.","\n","ev",{"VAR?":"tools"},{"VAR?":"tools"},"-",{"VAR=":"tools","re":true},"/ev",{"->":".^.^"},{"->":".^.^.^.^.done"},{"#f":5}],"c-4":["\n","ev",{"VAR?":"lastAction"},{"VAR?":"action_instructions"},"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^You look at the instructions again. They haven't changed.","\n",{"->":".^.^.^.^"},{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"action_instructions"},"/ev",{"VAR=":"lastAction","re":true},{"->":"viewInstructions"},{"->":".^.^.^.8"},null]}],"nop","\n",{"->":".^.^.^.^.done"},{"#f":5}],"c-5":["\n",{"->":"viewParts"},{"->":".^.^.^.^.done"},{"#f":5}],"c-6":["\n",{"->":"viewTools"},{"->":".^.^.^.^.done"},{"#f":5}],"#f":5,"#n":"loop"}],{"#f":5}],"done":["^After that, it seems like you are finished. The concrete is still a bit wet, but everything looks correct and functions great.","\n","ev","str","^So... what next?","/str","/ev",{"*":".^.c-7","flg":20},{"c-7":["\n",{"->":".^.^.^.g-1"},{"#f":5}],"#f":5}],"g-1":["^You take out the spare parts you were given. You leave them (along with some tools) for the community to use when the pump needs maintenance.","\n","^Other than that, you tell them to watch the concrete over the next few days.","\n","ev","str","^You get in the pickup and leave","/str","/ev",{"*":".^.c-8","flg":20},{"c-8":["\n",{"->":".^.^.^.g-2"},{"#f":5}],"#f":5}],"g-2":["^It might not seem like a lot. Only a few hours of work installing something that us in a first-world country might find primitive compared to the faucets that litter our lives.","\n","^However, the impact is large in places that need it. Hand-powered pumps can remove treks of tens of kilometers to get water or fuel for diesel-powered pumps (UNICEF, 2022). It saves time and provides safer sources of water for the communities they are installed in.","\n","ev","void","/ev","->->",{"#f":5}]}],{"#f":1}],"useTool":[["ev",{"VAR?":"action_useTool"},"/ev",{"VAR=":"lastAction","re":true},"ev",{"VAR?":"tools"},"/ev",[{"->":".^.b","c":true},{"b":["^You ",["ev","visit",6,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"ev","du",4,"==","/ev",{"->":".^.s4","c":true},"ev","du",5,"==","/ev",{"->":".^.s5","c":true},"nop",{"s0":["pop","^stand prepared with your",{"->":".^.^.41"},null],"s1":["pop","^ready your",{"->":".^.^.41"},null],"s2":["pop","^grip the",{"->":".^.^.41"},null],"s3":["pop","^wield the",{"->":".^.^.41"},null],"s4":["pop","^prepare the",{"->":".^.^.41"},null],"s5":["pop","^hold the",{"->":".^.^.41"},null],"#f":5}],"^ ","ev",{"VAR?":"tools"},"out","/ev",["ev","visit",11,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"ev","du",4,"==","/ev",{"->":".^.s4","c":true},"ev","du",5,"==","/ev",{"->":".^.s5","c":true},"ev","du",6,"==","/ev",{"->":".^.s6","c":true},"ev","du",7,"==","/ev",{"->":".^.s7","c":true},"ev","du",8,"==","/ev",{"->":".^.s8","c":true},"ev","du",9,"==","/ev",{"->":".^.s9","c":true},"ev","du",10,"==","/ev",{"->":".^.s10","c":true},"nop",{"s0":["pop",{"->":".^.^.71"},null],"s1":["pop",{"->":".^.^.71"},null],"s2":["pop",{"->":".^.^.71"},null],"s3":["pop",{"->":".^.^.71"},null],"s4":["pop",{"->":".^.^.71"},null],"s5":["pop","^ menacingly",{"->":".^.^.71"},null],"s6":["pop","^ confidently",{"->":".^.^.71"},null],"s7":["pop","^ suspiciously",{"->":".^.^.71"},null],"s8":["pop","^ with great power",{"->":".^.^.71"},null],"s9":["pop","^ and imagine doing great things",{"->":".^.^.71"},null],"s10":["pop","^ and feel good",{"->":".^.^.71"},null],"#f":5}],{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^You ",["ev","visit",4,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"nop",{"s0":["pop","^ready your hands",{"->":".^.^.29"},null],"s1":["pop","^prepare your hands",{"->":".^.^.29"},null],"s2":["pop","^look at your paws",{"->":".^.^.29"},null],"s3":["pop","^crack your knuckles",{"->":".^.^.29"},null],"#f":5}],{"->":".^.^.^.9"},null]}],"nop","^. The current instruction ",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^reads",{"->":".^.^.23"},null],"s1":["pop","^says",{"->":".^.^.23"},null],"s2":["pop","^tells you",{"->":".^.^.23"},null],"#f":5}],["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop",{"->":".^.^.23"},null],"s1":["pop",{"->":".^.^.23"},null],"s2":["pop","^ as follows",{"->":".^.^.23"},null],"#f":5}],"^:","\n","ev",{"VAR?":"currentInstruction"},{"f()":"getInstructionText"},"out","/ev","\n","ev","str","ev",{"VAR?":"currentInstruction"},{"f()":"getToolUseChoiceText"},"out","/ev","/str",{"VAR?":"currentInstruction"},{"f()":"holdingCorrectTool"},"/ev",{"*":".^.c-0","flg":5},"ev","str","^Try to use ","ev",{"VAR?":"tools"},"/ev",[{"->":".^.b","c":true},{"b":["^the ","ev",{"VAR?":"tools"},"out","/ev",{"->":".^.^.^.41"},null]}],[{"->":".^.b"},{"b":["^your hands",{"->":".^.^.^.41"},null]}],"nop","/str",{"VAR?":"currentInstruction"},{"f()":"holdingCorrectTool"},"!","/ev",{"*":".^.c-1","flg":5},"ev","str","^Go back","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n","ev",{"VAR?":"currentInstruction"},{"f()":"getToolUseDescription"},"out","/ev","\n","ev",{"VAR?":"currentInstruction"},1,"+",{"VAR=":"currentInstruction","re":true},"/ev",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","^Looking at instruction #","ev",{"VAR?":"currentInstruction"},"out","/ev","^, you aren't quite sure what do with ","ev",{"VAR?":"tools"},"/ev",[{"->":".^.b","c":true},{"b":["^the ","ev",{"VAR?":"tools"},"out","/ev",{"->":".^.^.^.12"},null]}],[{"->":".^.b"},{"b":["^your hands",{"->":".^.^.^.12"},null]}],"nop","^.","\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["ev",{"VAR?":"currentInstruction"},9,">","/ev",[{"->":".^.b","c":true},{"b":[{"->":"puzzle2.0.done"},{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":[{"->":"puzzle2.0.g-0.loop"},{"->":".^.^.^.7"},null]}],"nop","\n",{"#f":5}]}],{"#f":1}],"holdingCorrectTool":[{"temp=":"instruction"},"ev",{"VAR?":"instruction"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},{"VAR?":"shovel"},"==","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},{"VAR?":"drill"},"==","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},"!","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},"!","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},"!","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",6,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},{"VAR?":"ratchet"},"==","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",7,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},"!","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",8,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},{"VAR?":"shovel"},"==","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",9,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},{"VAR?":"wheelbarrow"},"==","/ev","~ret",{"->":".^.^.^.14"},null]}],"pop","nop","\n",{"#f":1}],"getToolUseChoiceText":[{"temp=":"instruction"},"ev",{"VAR?":"instruction"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Dig a hole","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Carry the drill","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Crank the drill","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Grab the pipes","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Look at the massive header block","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",6,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Pick up the pump","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",7,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Test the pump","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",8,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Start mixing concrete","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",9,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Wheel over the wheelbarrow","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],"pop","nop","\n",{"#f":1}],"getToolUseDescription":[{"temp=":"instruction"},"ev",{"VAR?":"instruction"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"#":"IMAGE: images/Step_1.png"},"ev","str","^You confidently plunge the shovel into the soil. After a few minutes of digging, you have a reasonable sized hole to place the drill into.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"tools"},{"VAR?":"drill"},"-",{"VAR=":"tools","re":true},"/ev",{"#":"IMAGE: images/Step_2.png"},"ev","str","^You wheeze as you heave the drill into place in the hole you dug. You wiggle it about until it is flush against the ground.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"#":"IMAGE: images/Step_3.png"},"ev","str","^You grab the handle on the drill and try to twist it - it doesn't budge. You have to get another crew member and use your combined force to get it started.<br>After that, the work goes smoothly. You drill about a meter at a time, removing the dug up soil and installing an extension each time. Eventually, you reach the depth you were told the aquifer was running at.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"parts"},{"VAR?":"pipes"},"-",{"VAR=":"parts","re":true},"/ev",{"#":"IMAGE: images/Step_4.png"},"ev","str","^You crank the drill back up, removing the extensions as you go. You get a crew member to help you move it aside, and then you work in a line passing the pipes to the hole. You slide each one down and then center them all.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"parts"},{"VAR?":"header"},"-",{"VAR=":"parts","re":true},"/ev",{"#":"IMAGE: images/Step_5.png"},"ev","str","^You and three other crew members struggle and pick up the header block, budging it into place on top of the pipe the portrudes from the hole. You are certain that it would stay in place without the clamps, but you reach inside and secure them anyways.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",6,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"parts"},{"VAR?":"pump"},"-",{"VAR=":"parts","re":true},"/ev","ev",{"VAR?":"parts"},{"VAR?":"bolts"},"-",{"VAR=":"parts","re":true},"/ev",{"#":"IMAGE: images/Step_6.png"},"ev","str","^The pump is lighter than you expect. You take it and put it into the grooves in the header block. You try to put it in backwards at first, but it only goes in one way. It clicks satisfyingly, and you use the ratchet to bolt it in to make sure it stays snug and water-tight.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",7,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"#":"IMAGE: images/Step_7.png"},"ev","str","^You grab the pump lever and start moving it up and down. You hear a sound that seems to get higher and higher, and eventually water bolts out of the end. You drench your shoes, but the pump works.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",8,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev",{"VAR?":"parts"},{"VAR?":"concrete"},"-",{"VAR=":"parts","re":true},"/ev",{"#":"IMAGE: images/Step_8.png"},"ev","str","^You pour the concrete bags into the wheelbarrow. You have no way of measuring the water (bit of an oversight), but you pour water until it seems about even. You mix it with your shovel until it is a smooth, even consistency.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",9,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n",{"#":"IMAGE: images/Step_9.png"},"ev","str","^You take the handles of the wheelbarrow and wheel it over to the pump. You make your way in a circle around the pump, pouring concrete as other crew members spread and flatten it.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],"pop","nop","\n",{"#f":1}],"viewInstructions":[{"#":"IMAGE: images/Instructions.png"},"^You ",["ev","visit",4,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"nop",{"s0":["pop","^flip open the manual",{"->":".^.^.29"},null],"s1":["pop","^look at the manual",{"->":".^.^.29"},null],"s2":["pop","^consult the instructions",{"->":".^.^.29"},null],"s3":["pop","^use your brainpower",{"->":".^.^.29"},null],"#f":5}],"^ and see that ","ev",{"VAR?":"currentInstruction"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^these steps are left",{"->":".^.^.^.11"},null]}],[{"->":".^.b"},{"b":["^you should start here",{"->":".^.^.^.11"},null]}],"nop","^:","\n","ev",{"VAR?":"currentInstruction"},{"f()":"printInstructions"},"pop","/ev","\n",{"->":"puzzle2.0.g-0.loop"},{"#f":1}],"viewParts":["ev",{"VAR?":"lastAction"},{"VAR?":"action_parts"},"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^You look at your parts again. They haven't changed.","\n",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n",{"#":"IMAGE: images/Parts.png"},"ev",{"VAR?":"action_parts"},"/ev",{"VAR=":"lastAction","re":true},"ev",{"f()":"printParts"},"pop","/ev","\n",{"->":".^.^.^.7"},null]}],"nop","\n",{"->":"puzzle2.0.g-0.loop"},{"#f":1}],"viewTools":[["ev",{"VAR?":"lastAction"},{"VAR?":"action_tools"},"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^You look at your tools again. They haven't changed.","\n",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n",{"#":"IMAGE: images/Tools.png"},"ev",{"VAR?":"action_tools"},"/ev",{"VAR=":"lastAction","re":true},"ev",{"f()":"printTools"},"pop","/ev","\n",{"->":".^.^.^.7"},null]}],"nop","\n",["ev",{"VAR?":"tools"},"/ev",[{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.5"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"shovel"},"/ev","thread",{"->":"toolPickup"},"ev",{"VAR?":"drill"},"/ev","thread",{"->":"toolPickup"},"ev",{"VAR?":"wheelbarrow"},"/ev","thread",{"->":"toolPickup"},"ev",{"VAR?":"ratchet"},"/ev","thread",{"->":"toolPickup"},{"->":".^.^.^.5"},null]}],"nop","\n",{"->":"puzzle2.0.g-0.loop"},{"#f":5,"#n":"selectAction"}],null],{"#f":1}],"toolPickup":[{"temp=":"tool"},["ev","str","^Pick up ","ev",{"VAR?":"tool"},"out","/ev","/str",{"VAR?":"tools"},{"VAR?":"tool"},"!?","/ev",{"*":".^.c-0","flg":5},{"c-0":["\n","^You ",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^pick up",{"->":".^.^.23"},null],"s1":["pop","^grab",{"->":".^.^.23"},null],"s2":["pop","^yoink",{"->":".^.^.23"},null],"#f":5}],"^ the ","ev",{"VAR?":"tool"},"out","/ev","^.","\n","ev",{"VAR?":"tool"},"/ev",{"VAR=":"tools","re":true},{"->":"puzzle2.0.g-0.loop"},{"#f":5}]}],{"#f":1}],"printInstructions":[{"temp=":"instrToPrint"},"ev",{"VAR?":"instrToPrint"},9,"<=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"instrToPrint"},{"f()":"getInstructionText"},"out","/ev","\n","ev",{"VAR?":"instrToPrint"},1,"+",{"f()":".^.^.^"},"pop","/ev","\n",{"->":".^.^.^.7"},null]}],"nop","\n",{"#f":1}],"getInstructionText":[{"temp=":"instruction"},"ev",{"VAR?":"instruction"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^1. Dig the pilot hole for the drill in the soil.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^2. Install the drill into the pilot hole. Ensure it seats firmly against the ground.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^3. Crank the drill in order to remove soil from the hole. Lower the drill until the desired depth is reached.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^4. Remove the drill and install the siding pipe into the hole. It should slide smoothly without resistance.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",5,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^5. Install the pump header block onto the siding pipe. Secure the clamps to lock the header onto the pipe.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",6,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^6. Install the pump into the header block. Seat it firmly into the slot and secure the bolts to lock it in place.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",7,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^7. Test the pump to ensure proper function. Pump it repeatedly until water flows - if water does not flow after ~20 repetitions, remove the pump and ensure water is visible in the siding pipe.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",8,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^8. Pour the concrete powder into the wheelbarrow, mixing it in a 1-1 ratio with water from the pump.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],["du","ev",9,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^9. Secure the pump and header block in place using the mixed concrete. Pour a circle with a radius of 1m (3ft) around the base of the header block.","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],"pop","nop","\n",{"#f":1}],"printParts":["^On the ground around you is ","ev",{"VAR?":"parts"},{"f()":"list_with_commas"},"out","/ev","^.","\n",{"#f":1}],"drillIsInHole":["ev",{"VAR?":"currentInstruction"},3,"==",{"VAR?":"currentInstruction"},4,"==","||","/ev","~ret",{"#f":1}],"printTools":["ev",{"VAR?":"tools"},"LIST_ALL","/ev",{"temp=":"allTools"},"\n","ev",{"VAR?":"allTools"},{"VAR?":"tools"},"-",{"temp=":"allTools","re":true},"/ev","ev",{"f()":"drillIsInHole"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"allTools"},{"VAR?":"drill"},"-",{"temp=":"allTools","re":true},"/ev",{"->":".^.^.^.16"},null]}],"nop","\n","^You see ","ev",{"VAR?":"allTools"},{"f()":"list_with_commas"},"out","/ev","^. ","ev",{"VAR?":"tools"},"/ev",[{"->":".^.b","c":true},{"b":["^You are holding the ","ev",{"VAR?":"tools"},"out","/ev",{"->":".^.^.^.30"},null]}],[{"->":".^.b"},{"b":["^You aren't holding anything currently",{"->":".^.^.^.30"},null]}],"nop","ev",{"f()":"drillIsInHole"},"/ev",[{"->":".^.b","c":true},{"b":["^ and the drill is installed in the hole",{"->":".^.^.^.35"},null]}],"nop","^.","\n",{"#f":1}],"pop":[{"temp=":"_list"},"ev",{"VAR?":"_list"},"LIST_MIN","/ev",{"temp=":"el"},"\n","ev",{"VAR?":"_list"},{"VAR?":"el"},"-",{"temp=":"_list","re":true},"/ev","ev",{"VAR?":"el"},"/ev","~ret",{"#f":1}],"list_with_commas":[{"temp=":"list"},"ev",{"VAR?":"list"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"list"},{"VAR?":"list"},"LIST_COUNT",{"f()":"_list_with_commas"},"out","/ev","\n",{"->":".^.^.^.5"},null]}],"nop","\n",{"#f":1}],"_list_with_commas":[{"temp=":"n"},{"temp=":"list"},"ev",{"^var":"list","ci":-1},{"f()":"pop"},{"f()":"formatListValue"},"out","/ev","ev",{"VAR?":"n"},1,">","/ev",[{"->":".^.b","c":true},{"b":["ev",{"VAR?":"n"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["^ and ",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^, ",{"->":".^.^.^.7"},null]}],"nop","ev",{"VAR?":"list"},{"VAR?":"n"},1,"-",{"f()":".^.^.^"},"out","/ev",{"->":".^.^.^.14"},null]}],"nop","\n",{"#f":1}],"formatListValue":[{"temp=":"x"},["ev",{"VAR?":"x"},{"VAR?":"pipes"},"==",{"VAR?":"x"},{"VAR?":"bolts"},"==","||","/ev",{"->":".^.b","c":true},{"b":["\n","^some ","ev",{"VAR?":"x"},"out","/ev","\n",{"->":".^.^.^.5"},null]}],["ev",{"VAR?":"x"},{"VAR?":"concrete"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","^bags of ","ev",{"VAR?":"x"},"out","/ev","\n",{"->":".^.^.^.5"},null]}],["ev",{"VAR?":"x"},{"VAR?":"pump"},"==",{"VAR?":"x"},{"VAR?":"header"},"==","||","/ev",{"->":".^.b","c":true},{"b":["\n","^the ","ev",{"VAR?":"x"},"out","/ev","\n",{"->":".^.^.^.5"},null]}],[{"->":".^.b"},{"b":["\n","^a ","ev",{"VAR?":"x"},"out","/ev","\n",{"->":".^.^.^.5"},null]}],"nop","\n",{"#f":1}],"global decl":["ev",false,{"VAR=":"s1_complete"},false,{"VAR=":"s2_complete"},false,{"VAR=":"lightsOn"},false,{"VAR=":"hasCup"},false,{"VAR=":"faucetOn"},false,{"VAR=":"hasBucket"},{"list":{"waterState.none":1}},{"VAR=":"waterState"},{"VAR?":"waterState.none"},{"VAR=":"drankWaterState"},{"list":{},"origins":["tools"]},{"VAR=":"tools"},{"list":{"parts.pipes":1,"parts.pump":2,"parts.bolts":3,"parts.concrete":4,"parts.header":5}},{"VAR=":"parts"},1,{"VAR=":"currentInstruction"},{"list":{},"origins":["lastAction"]},{"VAR=":"lastAction"},"/ev","end",null],"#f":1}],"listDefs":{"waterState":{"none":1,"dirty":2,"clean":3},"tools":{"shovel":1,"drill":2,"wheelbarrow":3,"ratchet":4},"parts":{"pipes":1,"pump":2,"bolts":3,"concrete":4,"header":5},"lastAction":{"action_instructions":1,"action_parts":2,"action_tools":3,"action_useTool":4}}};