<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="How I implemented server-authoritative netcode, and how you can too.">
	
	<link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="48x48"/>
	<link rel="shortcut icon" href="/favicon.ico"/>
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
	<link rel="manifest" href="/site.webmanifest"/>

	<title>Server-Authoritative Netcode: Intro</title>
	<!-- Bootstrap -->
	<link href="/css/bootstrap-4.4.1.css" rel="stylesheet">
	<link href="/css/util.css" rel="stylesheet">
	
	<style>
		figure > img {
			height: 280px;
			border: 3px solid #888;
		}

		figure {
			align-content: center;
			text-align: center;
			font-size: 1em;
			font-style: italic;
			color: #666;
		}
		
		.dashed-list {
			list-style-type: "- ";
		}
	</style>
</head>

<body>
	<div id="fullpage" onclick="this.style.display='none';" style="cursor:zoom-out" tabindex="-1" aria-hidden="true"></div>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" href="/index.html">tobo.games</a>
      	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      	<span class="navbar-toggler-icon"></span>
      	</button>
      	<div class="collapse navbar-collapse" id="navbarSupportedContent">
        	<ul class="navbar-nav mr-auto">
				<li class="nav-item">
            		<a class="nav-link" href="/Blog/index.html">Blog</a>
          		</li>
				<!--
				<li class="nav-item">
            		<a class="nav-link" href="/portfolio.html">Portfolio</a>
          		</li>
				-->
          		<li class="nav-item dropdown">
            		<a class="nav-link dropdown-toggle" href="#" id="projectDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            		Projects
            		</a>
            		<div class="dropdown-menu" aria-labelledby="projectDropdown">
					  	<a class="dropdown-item" href="/Projects/index.html">Projects Home Page</a>
						<div class="dropdown-divider"></div>
					  	<a class="dropdown-item" href="/Projects/Personal/index.html">Game Dev - Personal</a>
					  	<a class="dropdown-item" href="/Projects/School/index.html">Game Dev - School</a>
						<a class="dropdown-item" href="/Projects/Engineering/index.html">Engineering</a>
            		</div>
          		</li>
				<li class="nav-item dropdown">
            		<a class="nav-link dropdown-toggle" href="#" id="contactDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            		Contact
            		</a>
            		<div class="dropdown-menu" aria-labelledby="contactDropdown">
					  	<a class="dropdown-item p-1" href="mailto:evandaveikis@gmail.com" aria-label="Email">
							<img src="/images/email-icon.svg" width="20" height="20" alt="Email icon">
							Send Email
						</a>
    					<a class="dropdown-item p-1" href="https://github.com/tobogganeer" target="_blank" rel="noopener" aria-label="GitHub">
							<img src="/images/github-mark.svg" width="20" height="20" alt="Github logo">
							GitHub Profile
						</a>
						<a class="dropdown-item p-1" href="https://itch.io/profile/tobogganeer" target="_blank" rel="noopener" aria-label="Itch.io">
							<img src="/images/itchio-logo-textless-black.svg" width="20" height="20" alt="Github logo">
							Itch.io Page
						</a>
            		</div>
          		</li>
				<li class="nav-item">
            		<a class="nav-link" href="/about.html">About</a>
          		</li>
				<li class="nav-item">
            		<a class="nav-link" href="/VVGamesLauncher.exe" role="button" download>Download Launcher</a>
          		</li>
        	</ul>
      	</div>
    </nav>
    <section>
      	<div class="jumbotron text-center mt-2 p-4">
        	<div class="container">
          		<div class="row justify-content-center">
            		<div class="col-12">
              			<h1 style="text-decoration: underline; font-size: 4em">Netcode: Intro</h1>
						<p>December 4, 2025</p>
						<a href="/Blog/index.html"><button class="btn btn-primary btn-lg" type="button">Back to Blogs Â»</button></a>
            		</div>
          		</div>
			</div>
      	</div>
    </section>
    <section>
      	<div class="container">
			<h2 id="articles">Netcode Articles</h2>
			
			<ul>
				<li>Netcode: Intro</li>
				<li><a href="../05_12_25_NetcodeTime/index.html">Netcode: Time</a></li>
				<li><a href="../05_12_25_NetcodePredictionReconcilation/index.html">Netcode: Prediction &amp; Reconciliation</a></li>
				<li><a href="../05_12_25_NetcodeLagCompensationRollback/index.html">Netcode: Lag Compensation / Rollback</a></li>
				<li><a href="../05_12_25_NetcodeInputBuffer/index.html">Netcode: Input Buffering</a></li>
				<li><a href="../06_12_25_NetcodeInterpolation/index.html">Netcode: Interpolation</a></li>
				<li><a href="../06_12_25_NetcodeTips/index.html">Netcode: Tips</a></li>
			</ul>
			
			<hr>
			
        	<h2>I implemented server-authoritative netcode, and you can too.</h2>
			
			<figure>
				<img src="Images/gameplay.gif" style="height: 500px;" class="click-to-zoom" alt="Video game characters shooting each other">
				<figcaption>The hitboxes had some bugs... but the netcode was perfect!</figcaption>
			</figure>
			
			<p>The next few articles are going to cover how I implemented server-authoritative netcode for FPS games in Unity. The theory and ideas I'm going to discuss will apply to any language, engine, or game. Here's a few things to keep in mind:</p>
			
			<ul>
				<li><b>Theory &gt; Code:</b> Understanding <em>how</em> each concept works and <em>why</em> it is needed is the important part to implement this netcode. The actual code comes naturally from the theory.</li>
				<li><b>There is no "one size fits all":</b> Netcode for a platform fighter has different goals than netcode for an open world MMORPG. Your stack will be tailored to your project. However, the theory is similar and useful no matter what direction you go.</li>
				<li><b>It is challenging!</b> It takes time, effort, and research. You need all the pieces in place to get good results. You will run into frustrating bugs. Remember that a sense of challenge gives strong intrinsic motivation, and overcoming challenge gives you immense satisfaction.</li>
			</ul>
			
			<hr>
			<h2>Netcode?</h2>
			<p>If you want to play games with other people across a network - like online or at a LAN party - you need some way to facilitate connection and communication between different computers or "clients". In games, the stack that handles this connection, communication, and synchronization is called "netcode" (and probably a million other terms).</p>
			
			<hr>
			<h2>Server? FPS?</h2>
			<p>There are a few different ways of structuring your netcode, each with benefits and drawbacks depending on what kind of game you are making.</p>
			
			<p>To start, you need to choose how you want clients/computers to communicate: Directly to each other (Peer to Peer or P2P), or between each client and a server (client-server).</p>
			
			<figure>
				<img src="Images/p2p.png" style="height: 200px;" class="click-to-zoom" alt="P2P connection diagram">
				<img src="Images/clientserver.png" style="height: 200px;" class="click-to-zoom" alt="Client-server connection diagram">
				<figcaption>Either clients/peers talk to all other peers, or one "server" connects them all</figcaption>
			</figure>
			
			<p>For the type of games I make, client-server architecture is the way to go. We want one central source of truth who controls the game and handles sorting out the game and keeping everyone in sync. For the small, first-person shooters I make, I elect one player the "host" who runs the server <em>and</em> plays as a client*. This means anyone can host a server and play - no dedicated servers (though they are possible).</p>
			<small class="text-muted">*You could get into semantics about P2P and player-hosted servers but I won't.</small>
			
			<hr>
			<h2>Authority</h2>
			<p><em>"We want one central source of truth".</em> Cheaters are no fun in games, and we'd like to prevent cheating where possible. To make this easier, the server has "authority", meaning it controls the state of all objects in the game. Why does this matter? Let's look at client vs server authority.</p>
			
			<h5>Client Authority</h5>
			<p>The client has control over certain objects in the game - typically their player. They move/shoot/interact and tell the server what they did.</p>
			
			<ul class="dashed-list">
				<li>Client: "Hello, I just moved 1 meter forward."</li>
				<li>Server: "Perfect! I'll let everyone else know."</li>
				<li>Client: "Hello, I just shot player 2 fifteen times in the head through 3 walls."</li>
				<li>Server: "Perfect! I'll let everyone else know."</li>
			</ul>
			
			<p>Obviously this is exaggerated and the server can try and run some "sanity checks" to prevent obvious cheats, but it's much easier to cheat when the client has authority. Look at a game like Rust - the client has authority over their player, and some cheats allow you to climb up walls <em>even while the server checks on its end.</em></p>
			<p>Apart from that negative, it feels <em>really good</em> when you have authority over your player. Your inputs apply instantly and you never feel "cheated" out of an action.</p>
			
			<h5>Server Authority</h5>
			<p>The clients just tell the server what they'd <em>like</em> to do. They tell the server what buttons they are pressing and the server tells them what happened.</p>
			
			<ul class="dashed-list">
				<li>Client: "Hello, I'm pressing W and A"</li>
				<li>Server: "Perfect! You are now at position (3, 2), and I let everyone else know too."</li>
				<li>Client: "Hello, I just shot 15 times in one frame."</li>
				<li>Server: "??? I'll let you shoot once. Nice try though."</li>
			</ul>
			
			<p>Many cheats are very difficult or impossible when the server has authority over everything. Flyhacking, speed cheats, shooting through walls, etc. are gone (aimbots and wallhacking are still issues). However, there is one problem: the network.</p>
			
			<figure>
				<img src="Images/latency.gif" style="height: 200px;" class="click-to-zoom" alt="Gif showing packets going from client to server and back">
				<figcaption>Taken from <a href="https://youtu.be/W3aieHjyNvw?t=1638">Overwatch Netcode GDC talk</a></figcaption>
			</figure>
			
			<p>I tell the server I am pressing W. It takes 100ms for my packet to get there. The server moves me and tells me where I went. Another 100ms for that packet to get to me. I press W and only see myself move 200ms later. Terrible! How can we get around this?</p>
			
			<hr>
			<h2>Prediction, Reconciliation, and Lag Compensation</h2>
			<small><em>Sometimes called "Lag Compensation"</em></small>
			
			<p>These are the methods used to deal with network conditions and make server-authoritative games feel good to play. They are discussed in the next couple of articles.</p>
			
			<ul>
				<li>Prediction: When you send an input to the server, locally predict what will happen.</li>
				<li>Reconciliation: The server processes your input and tells you the authoritative state. Reconciliation is comparing the result to your prediction and correcting where necessary.</li>
				<li>Lag Compensation: The server is the only one seeing the game in the "present". Since you see the game - e.g. other clients - in the past, the server needs to compensate for that. In my case, this involves rolling back hitboxes and colliders to the client's time so their shots are accurate.</li>
			</ul>
			
			<a href="#articles"><h4>Scroll up to article links</h4></a>
			
			<hr>
			<h2>Additional Resources</h2>
			<p>Here are some great articles I used to research and implement my netcode:</p>
			
			<ul>
				<li><a href="https://developer.valvesoftware.com/wiki/Latency_Compensating_Methods_in_Client/Server_In-game_Protocol_Design_and_Optimization" target="_blank">Server In-game Protocol Design and Optimization - Valve</a></li>
				<li><a href="https://developer.valvesoftware.com/wiki/Source_Multiplayer_Networking" target="_blank">Source Multiplayer Networking - Valve</a></li>
				<li><a href="https://www.youtube.com/watch?v=W3aieHjyNvw" target="_blank">Overwatch Gameplay Architecture and Netcode - GDC</a></li>
				<li><a href="https://www.gabrielgambetta.com/client-server-game-architecture.html" target="_blank">Fast-Paced Multiplayer - Gabriel Gambetta</a></li>
				<li><a href="https://medium.com/@geretti/netcode-series-part-3-player-movement-921f0aec661a" target="_blank">Netcode Series for ARMAJET - Nicola Geretti</a></li>
				<li><a href="https://fouramgames.com/blog/fast-paced-multiplayer-implementation" target="_blank">Fast-Paced Multiplayer Implementation - 4AM Games</a></li>
				<li><a href="https://daposto.medium.com/game-networking-0-introduction-b07a46b40e22" target="_blank">Game Networking - Daposto</a></li>
				<li><a href="https://gafferongames.com/post/what_every_programmer_needs_to_know_about_game_networking/" target="_blank">Networking for Game Programmers - Glenn Fiedler</a></li>
				<li><a href="https://www.youtube.com/watch?v=ueEmiDM94IE" target="_blank">IT IS Rocket Science! - Rocket League Netcode GDC Talk</a></li>
			</ul>
			
      	</div>
    </section>
    <hr>
    <footer class="text-center">
      	<div class="container">
        	<div class="row">
          		<div class="col-12">
            		<p class="mb-0">Evan Daveikis 2026</p>
			  		<small class="mt-0 pb-3 text-muted">Very clearly not a web designer but I'm trying to learn!</small>
          		</div>
        	</div>
      	</div>
    </footer>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="/js/jquery-3.4.1.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap-4.4.1.js"></script>
	<script src="/js/fullscreen-images.js"></script>
</body>
</html>